---------------------
Installing the passes
---------------------

NOTE: please install clang/LLVM using the guide in patches/LLVM/INSTALL before
installing the passes, as building the passes requires information from the
LLVM build

Installation is structurally similar for all the passes.  The live-values,
associate-literal and section-static passes have no dependencies outside of the
LLVM installation, and should be installed first.  The stack-info pass requires
the live-values pass, and should be installed last.

--- For live-values/associate-literal/section-static passes ---

1. Configuration with CMake - make & change into a build directory, then
   configure the installation

  $ mkdir <pass root>/build && cd <pass root>/build
  $ cmake -DLLVM_DIR=/usr/local/popcorn/share/llvm/cmake \
          -DCMAKE_INSTALL_PREFIX=/usr/local/popcorn \
          -DCMAKE_CXX_FLAGS="-std=c++11 -O3" \
          ..

NOTE: you'll need to specify C++ 11 if it's not the default for your compiler.
Otherwise, the compiler will throw lots of cryptic errors.

2. Next, install the pass:

  $ make install

--- For stack-info pass ---

NOTE: this pass requires the live-values pass, follow the steps above first

1. Configuration with CMake - make & change into a build directory, then
   configure the installation

  $ mkdir <pass root>/build && cd <pass root>/build
  $ cmake -DLLVM_DIR=/usr/local/popcorn/share/llvm/cmake \
          -DCMAKE_INSTALL_PREFIX=/usr/local/popcorn \
          -DCMAKE_CXX_FLAGS="-std=c++11 -O3" \
          -DCMAKE_LIBRARY_PATH=/usr/local/popcorn/lib
          ..

NOTE: you'll need to specify C++ 11 if it's not the default for your compiler.
Otherwise, the compiler will throw lots of cryptic errors.

2. Next, install the pass:

  $ make install

